# 01. 자바(Java)언어의 특징과 JDK 및 개발환경 설치

## 자바 프로그래밍을 공부하는 이유?
- 기업에서 서버 프로그래밍 시 가장 많이 사용하는 언어

## 자바 언어의 특징
- 객체지향 언어
- 자바 언어는 느리지만, 버전업 되면서 다른 언어들의 장점을 흡수하고 있다.(모던 자바)
  - 람다(Lambda) : 함수형 프로그래밍
  - Stream API : 람다 표현식과 메서드 참조 등의 기능과 결합해서 매우 복잡하고 어려운 데이터 처리 작업을 쉽게 조회하고 필터링하고 변환하고 처리할 수 있도록 한다.
  - 병렬 프로그래밍 : 여러 개의 CPU 코어에서 작업을 배분해서 동시에 작업을 수행한다.

## 자바 프로그램 작성과 실행
- JDK(Java Development Kit)이라는 프로그램을 다운로드하고 설치해야 한다.
- 여러 종류의 JDK가 존재한다. openjdk, Oracle JDK, Azul Julu JDK, Amazon Corretto OpenJDK, Adoptium Temurin 등
- 이클립스 재단(The Eclipse Foundation)의 어댑티움(Adoptium) 프로젝트가 '이클립스 테무린(Eclipse Temurin) 자바 SE 바이너리'의 첫 번째 릴리즈를 출시했다. 이는 인텔 64비트 프로세서 기반 윈도우, 리눅스, 맥 OS용 자바 SE 8, 자바 SE 11, 자바 SE 17의 최신 버전을 다루는 오픈 JDK(OpenJDK)의 '프로덕션 레디(production-ready)' 빌드다.

## JDK 11 설치
- 초보자가 공부할 때는 JDK 8도 충분. 서비스 업체들의 경우 11이상을 사용하는 경우가 많다.
- JDK 17을 고려하는 경우
  - Java 17이 2021년 9월 출시.
  - 10부터는 6개월마다 출시. LTS(Long Term Support)버전은 3년마다 출시.
  - JDK 8 LTS가 JDK 11 LTS보다 유지보수 기간이 더 길다. 그래서, 직접 17로 업데이트하는 것을 고려
- M1 Mac용 JDK는 17 버전에서 지원.
- https://adoptium.net/releases.html?variant=openjdk11&jvmVariant=hotspot
- M1 Mac용 JDK 11 - Azul Zulu JDK
- https://www.azul.com/downloads/?version=java-11-lts&os=macos&architecture=arm-64-bit&package=jdk
- java 8, 11, 17은 LTS 버전이다.
- JDK에 버그가 있거나 그럴 경우 버그 수정등이 필요한데 LTS는 Long-term Support라고 해서 장기 지원 버전을 말한다.
- LTS 버전은 유지보수 기간이 길다.
- 8 버전은 사용자가 많이 사용하고 있기 때문에 유지보수 기간을 다른 LTS보다 더 길게 잡았다. 11 버전보다도 더 길다.

서버 프로그래밍 즉 백엔드 프로그래밍을 할 때 Linux 운영체제를 많이 사용한다.  
Java 개발자라면 Linux 공부를 많이 해야 한다.  

리눅스를 잘 알아야 하는 이유는 
- 자바 개발자들은 리눅스 운영체제로 동작하는 서버에 접속을 해서 여러가지 명령을 수행할 때가 많기 때문이다.

개발자가 Mac 컴퓨터를 좋아하는 이유 중에 하나는 맥과 리눅스가 서로 호환이 되는 부분이 많아서 그렇다.  
맥 터미널이 리눅스와 거의 유사하기 때문에 서버에서 배포하거나 이럴 때 상당히 편리하다. (맥 명령과 리눅스 명령이 많이 호환되니까)

## JDK 11 설치 - Mac 사용자
- 터미널에서 `echo $0`이라고 명령한다.
- zsh라고 나올 경우  
  `code ~/.zshrc` 명령을 수행한다.
- bash라고 나올 경우  
  `code ~/.bashrc` 명령을 수행한다.
- 파일을 열었으면 마지막 줄에 다음을 추가한다.  
  `export JAVA_HOME=$(/usr/libexec/java_home -v 11)`  
  `export PATH=$PATH:$JAVA_HOME/bin`

zsh는 z shell의 줄임말이다.  
이게 의미하는 것은  내가 입력한 명령을 읽어들인 후 그 명령을 대신 실행해주는 것이 `shell(쉘)`이다.  
쉘에는 다양한 종류가 있다. Linux에서 많이 사용되는 shell은 bash, zsh이다.  
이제는 zsh이 기본으로 설치되어 제공되고 있다.  
왜 shell 이름을 알아야 할까요?  
"echo $0"이라고 명령을 내리면 현재 터미널에서 사용되고 있는 쉘이 무엇인지 확인이 가능하다.  
확인을 하는 이유는 shell 마다 설정 파일의 이름이 다르기 때문이다.

환경 변수 설정을 위해 .zshrc 파일을 수정을 하고 수정된 .zshrc 파일을 저장을 해도 이 환경 설정은 바로 적용이 안된다.  
새롭게 설정한 환경변수를 적용하려면 터미널을 새로 열어주던지 `source ~/.zshrc`라고 명령을 입력하게 되면 바뀐 설정이 바로 적용된다.

java -version, javac -version 이라고 실행했을 때 결과가 11로 잘 출력돼야 한다.  

## 자바 프로그램 작성과 실행
- java 컴파일러 javac 명령으로 Hello.java를 컴파일 한다.
  `javac Hello.java`
- 컴파일이 성공하면 오류메세지가 없이 `Hello.class` 파일이 생성된다.
- `ls -la` 명령으로 파일이 생성되었는지 확인한다.
- JVM(자바 가상 머신)으로 `Hello.class`를 실행한다. 
- java 명령이 JVM을 의미한다.
- 이 때 확장자는 입력하지 않는다.(.class) `java Hello`
- 자바라는 프로그램을 실행할 때는 JVM이라고 불리는 프로그램이 필요하다.

정리하자면, 소스코드를 작성한 이후에 실행하기 위해서는 2가지 과정이 필요하다.
- javac 라는 명령으로 소스코드를 컴파일해서 클래스 파일을 생성해야 한다.
- 클래스 파일이 생성되었다면, 이 클래스 파일을 실행하기 위해서 java 라는 명령을 실행해야 한다.
- 클래스를 실행할 때 주의해야할 점은 .class는 생략해야 한다는 것.

공부해야 할 키워드 `컴파일`, `자바 가상 머신`

# 02. Hello의 동작 원리

## Hello.java 파일 분석하기
```
public class Hello {
  public static void main(String[] args) {
    System.out.println("Hello");
  }
}
```

## Hello.java의 3가지 중요한 부분
```
public class Hello {
...
}
```
- public class로 정의된 Hello 클래스
- public class의 클래스 이름과 파일이름은 같아야 한다. (중요! 대소문자 구분함):Hello.java

```
  public static void main(String[] args) {
    ...
  }
```
- 클래스는 `필드(Field)`와 `메소드(Method)`를 가질 수 있다.
- 프로그램이 실행하려면 반드시 가져야하는 `main 메소드`
- Java로 만든 프로그램이 실행되려면 위의 코드를 가지고 있어야 한다. **프로그램의 시작점**이라고도 말한다.
- 자바에서는 함수라고 말하지 않고 메소드라고 얘기한다.

```
System.out.println("Hello);
```
- System.out은 System이 가지고 있는 out 이라는 의미이다.
- out.println은 out이 가지고 있는 println 이라는 의미이다.
- println뒤에 괄호가 붙어 있는데, 이때 println 메소드라고 말한다.
- out은 괄호가 붙지 않았는데, 이때 out 필드라고 말한다.
- out이 가지고 있는 println 메소드의 역할은 괄호안의 내용을 화면에 출력한다. 즉 "Hello"가 출력 되게 된다.
- (이때 큰따옴표 안의 내용이 출력된다.), 큰 따옴표까지 포함해서 문자열(String)이라고 말한다.

## 컴파일하기
- 컴파일을 하려면 반드시 javac라는 프로그램이 필요하다. javac는 자바 컴파일러(Compiler)를 말한다.
  `javac Hello.java`
- 터미널에서 위의 명령을 입력하면 Hello.java라는 파일을 읽어들여서 컴파일을 하게 된다.
- 컴파일을 성공하면 Hello.class 파일이 생성되고, 컴팡리이 실패하면 오류메시지가 보여진다.
- Hello.class 파일을 `바이트(byte) 파일`이라고 말한다.
- Hello.java는 에디터로 열어보면, 사람이 알아들을 수 있는 말로 되어 있다
- Hello.class는 사람이 알아볼 수 없는 말로 되어 있다.
- 클래스 파일들을 바이트 코드라고 말합니다.

## 바이트 코드
- 바이트 코드에 대해 이해하려면 컴퓨터의 CPU에 대해 알아야 한다.
- CPU 안에는 CPU가 알아들을 수 있는 명령어들이 있다.
- CPU는 2진수로 된 명령어 들을 가지고 있다.
- CPU가 가지고 있는 2진수로 된 명령어 들을 **기계어**라고 말합니다.
- 기계어가 알아들을 수 있는 말은 사실 2가지이다.
- 스위치가 켜졌다(1), 스위치가 꺼졌다(0)
- 0과 1. 즉 2진수로 구성된 명령어 집합들을 CPU는 가지고 있다.
- CPU에 명령을 내리려면 기계어로 명령을 내려야 하는 것입니다.
- 기계어로 명령을 내리는 것은 사람에겐 쉽지 않다.
- 기계. 즉 CPU가 이해할 수 있는 프로그램을 작성할 수 있을까? 하는 고민을 하게 됨.
- 사람이 이해할 수 있는 영어, 숫자, 기호로 코드를 작성하고 이 코드를 기계가 알아들을 수 있도록 바꾸자라는 생각을 하게 됨.
- 사람이 이해할 수 있는 코드를 기계가 알아들을 수 있는 형태로 바꾼 후 실행하자란 생각을 하게 됨.
- C 언어 같은 경우에는 컴파일을 하게 되면 기계가 알아들을 수 있는 이진수로 된 코드로 바로 바뀌게 된다.
- 이 방식은 문제가 있다. CPU도 여러가지 종류가 있다는 것입니다.
- 새로 나온 맥의 경우엔 M1 CPU를 사용하고, 이전 맥은 Intel CPU를 사용하는데 각각의 CPU가 가지는 명령어들이 서로 호환이 안된다.
- 자바를 만든 사람은 한 번 만들어진 프로그램이 CPU에 상관없이 여러 컴퓨터에서 실행되기를 원했습니다.
- 자바의 경우 프로그램을 만들면 CPU에 상관없이 윈도우, 리눅스, 맥 등에서도 실행되길 원한 것입니다.
- CPU가 달라도 실행되도록 하려면 어떻게 할까? 하고 고민하다 나온 결과는 소스코드를 바로 기계어로 바꾸지 말고 소스코드와 기계어 중간 형태의 결과물을 만들자라는 생각을 하게 된 것입니다.
- 그 중간 형태의 결과물이 바로 바이트 코드입니다.
- javac Hello.java라고 명령을 내리면 소스코드와 기계어의 중간 단계인 바이트(byte)코드가 만들어집니다.
- *C 언어는 소스코드가 컴파일되면 기계어로 된 코드*로 만들어지지만, *Java 언어는 중간 형태의 바이트 코드*가 만들어지는 것입니다.
- 이 중간 형태의 Byte 코드를 여러분들은 CPU와 운영체제 상관 없이 사용할 수 있게 되는 것입니다.
- 그게 가능한 이유는 Java는 JVM이라는 자바 가상 머신이 Intel CPU용, M1 CPU용 등 다양한 CPU와 운영체제에 맞게 제공되기 때문입니다.
- JDK를 다운로드 받으러 가면 리눅스용, 윈도우용, M1용 등이 있는 것을 알 수 있다.
- 사용하고 있는 컴퓨터가 Intel CPU를 사용하고 운영체제는 MS 윈도우를 사용한다면 Intel CPU + 윈도우용 JDK를 다운로드 받아야 한다.
- 다운로드 받은 JDK에는 JVM(자바 가상 머신: 명령어 java)이 있는데, 이 java 명령이 바이트 코드를 실행해주게 됩니다.

## JVM으로 실행하기
- 자바로 작성된 프로그램이라는 것은 컴파일된 클래스. 즉 바이트 파일을 의미한다.
- 작성된 바인트 파일을 실행하려면 JVM(Java Virtual Machine)이 필요하다. 이 JVM 역할을 수행하는 것이 java 명령이다.
- hwp 파일을 읽어들이렴녀 아래한글 워드프로세서가 필요하고, psd 파일을 읽어들이려면 포토샵 프로그램이 필요한 것과 같은 원리이다.
- JVM은 바이트 코드를 읽어들여 실행된다. 바이트 코드를 읽어들여 실행하기 위해서는 다음과 같은 명령을 실행한다. 이때 확장자 이름은 입력하면 안된다.
  `java Hello`
- java 프로그램은 Hello 클래스를 한 줄 읽고 해석하고 실행하고, 한 줄 읽고 실행하고를 반복하면서 실행한다.
- 이렇게 한줄 한줄 읽어들이고 해석하면서 실행하는 방식을 인터프리터(interpreter)방식이라고 한다.

### 정리하자면
- 자바에서 컴파일은 기계어로 바로 바꿔주는 것이 아니라, 바이트 코드로 만들어주는 것입니다.
- 컴파일 되서 만들어진 바이트 코드는 CPU/운영체제에 맞게 설치된 JDK 안에 있는 JVM이 한줄 한줄 읽어나가면서 실행하게 됩니다.
